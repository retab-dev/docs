---
title: 'Split'
openapi: 'POST /v1/documents/split'
---

<RequestExample>

```python python
from retab import Retab

client = Retab()

# Split a multi-page document into sections based on categories
# Use partition_key to identify individual items within a category
result = client.documents.split(
    document="invoice_batch.pdf",
    model="retab-small",
    categories=[
        {"name": "invoice", "description": "Invoice documents with billing information", "partition_key": "invoice number"},
        {"name": "receipt", "description": "Receipt documents for payments"},
        {"name": "contract", "description": "Legal contract documents"},
    ]
)

# Access split results
for split in result.splits:
    print(f"{split.name}: pages {split.pages}")
    # Access partitions when partition_key is specified
    for partition in split.partitions:
        print(f"  {partition.key}: pages {partition.pages}")

# Example output:
# invoice: pages [1, 2, 3]
#   INV-001: pages [1, 2]
#   INV-002: pages [3]
# receipt: pages [4, 5]
# invoice: pages [6, 7, 8]
#   INV-003: pages [6, 7, 8]
```

```javascript javascript
import { Retab } from '@retab/node';
import { config } from 'dotenv';

config();

const client = new Retab();

const result = await client.documents.split({
    document: "invoice_batch.pdf",
    model: "retab-small",
    categories: [
        { name: "invoice", description: "Invoice documents with billing information", partition_key: "invoice number" },
        { name: "receipt", description: "Receipt documents for payments" },
        { name: "contract", description: "Legal contract documents" },
    ]
});

// Access split results
result.splits.forEach(split => {
    console.log(`${split.name}: pages ${split.pages}`);
    // Access partitions when partition_key is specified
    split.partitions.forEach(partition => {
        console.log(`  ${partition.key}: pages ${partition.pages}`);
    });
});
```

```typescript typescript
import { Retab, type SplitRequest, type SplitResponse } from '@retab/node';
import { config } from 'dotenv';

config();

const client = new Retab();

const splitRequest: SplitRequest = {
    document: "invoice_batch.pdf",
    model: "retab-small",
    categories: [
        { name: "invoice", description: "Invoice documents with billing information", partition_key: "invoice number" },
        { name: "receipt", description: "Receipt documents for payments" },
        { name: "contract", description: "Legal contract documents" },
    ]
};

const result: SplitResponse = await client.documents.split(splitRequest);

// Access split results
result.splits.forEach(split => {
    console.log(`${split.name}: pages ${split.pages}`);
    // Access partitions when partition_key is specified
    split.partitions.forEach(partition => {
        console.log(`  ${partition.key}: pages ${partition.pages}`);
    });
});
```

```bash curl
curl -X 'POST' \
  'https://api.retab.com/v1/documents/split' \
  -H "Api-Key: $RETAB_API_KEY" \
  -H 'Content-Type: application/json' \
  -d '{
  "document": {
    "filename": "invoice_batch.pdf",
    "url": "data:application/pdf;base64,JVBERi0xLjQKJcOkw7zDtsO..."
  },
  "model": "retab-small",
  "categories": [
    {"name": "invoice", "description": "Invoice documents with billing information", "partition_key": "invoice number"},
    {"name": "receipt", "description": "Receipt documents for payments"},
    {"name": "contract", "description": "Legal contract documents"}
  ]
}'
```

</RequestExample>

<ResponseExample>

```json 200
{
  "splits": [
    {
      "name": "invoice",
      "pages": [1, 2, 3],
      "partitions": [
        {
          "key": "INV-001",
          "pages": [1, 2],
          "first_page_y_start": 0.0,
          "last_page_y_end": 1.0
        },
        {
          "key": "INV-002",
          "pages": [3],
          "first_page_y_start": 0.0,
          "last_page_y_end": 1.0
        }
      ]
    },
    {
      "name": "receipt",
      "pages": [4, 5],
      "partitions": []
    },
    {
      "name": "invoice",
      "pages": [6, 7, 8],
      "partitions": [
        {
          "key": "INV-003",
          "pages": [6, 7, 8],
          "first_page_y_start": 0.0,
          "last_page_y_end": 1.0
        }
      ]
    }
  ]
}
```

</ResponseExample>
