---
title: 'Edit'
openapi: 'POST /v1/documents/edit'
---

<RequestExample>

```python python
import base64
from retab import Retab

client = Retab()

# Read and encode PDF
with open("form.pdf", "rb") as f:
    pdf_base64 = base64.b64encode(f.read()).decode("utf-8")

# Edit the form by inferring fields and filling them
result = client.documents.edit(
    pdf_base64=pdf_base64,
    filling_instructions="Name: John Doe, Date of Birth: 1990-01-15, Address: 123 Main Street, City: New York",
    model="gemini-2.5-pro",
    annotation_level="line",
)

# Access the filled PDF
if result.filled_pdf_base64:
    filled_pdf_bytes = base64.b64decode(result.filled_pdf_base64)
    with open("filled_form.pdf", "wb") as f:
        f.write(filled_pdf_bytes)

# Access form schema and filled values
print(f"Found {len(result.form_schema.form_fields)} form fields")
if result.filled_form_schema:
    for field in result.filled_form_schema.form_schema:
        print(f"Field: {field.description} = {field.value}")
```

```javascript javascript
import { Retab } from '@retab/node';
import { readFileSync, writeFileSync } from 'fs';
import { config } from 'dotenv';

config();

const client = new Retab();

// Read and encode PDF
const pdfBuffer = readFileSync("form.pdf");
const pdfBase64 = pdfBuffer.toString('base64');

const result = await client.documents.edit({
    pdf_base64: pdfBase64,
    filling_instructions: "Name: John Doe, Date of Birth: 1990-01-15, Address: 123 Main Street, City: New York",
    model: "gemini-2.5-pro",
    annotation_level: "line",
});

// Save the filled PDF
if (result.filled_pdf_base64) {
    const filledPdfBuffer = Buffer.from(result.filled_pdf_base64, 'base64');
    writeFileSync("filled_form.pdf", filledPdfBuffer);
}

// Access form schema and filled values
console.log(`Found ${result.form_schema.form_fields.length} form fields`);
if (result.filled_form_schema) {
    result.filled_form_schema.form_schema.forEach(field => {
        console.log(`Field: ${field.description} = ${field.value}`);
    });
}
```

```typescript typescript
import { Retab, type EditRequest, type EditResponse } from '@retab/node';
import { readFileSync, writeFileSync } from 'fs';
import { config } from 'dotenv';

config();

const client = new Retab();

// Read and encode PDF
const pdfBuffer = readFileSync("form.pdf");
const pdfBase64 = pdfBuffer.toString('base64');

const editRequest: EditRequest = {
    pdf_base64: pdfBase64,
    filling_instructions: "Name: John Doe, Date of Birth: 1990-01-15, Address: 123 Main Street, City: New York",
    model: "gemini-2.5-pro",
    annotation_level: "line",
};

const result: EditResponse = await client.documents.edit(editRequest);

// Save the filled PDF
if (result.filled_pdf_base64) {
    const filledPdfBuffer = Buffer.from(result.filled_pdf_base64, 'base64');
    writeFileSync("filled_form.pdf", filledPdfBuffer);
}

// Access form schema and filled values
console.log(`Found ${result.form_schema.form_fields.length} form fields`);
if (result.filled_form_schema) {
    result.filled_form_schema.form_schema.forEach(field => {
        console.log(`Field: ${field.description} = ${field.value}`);
    });
}
```

```bash curl
curl -X 'POST' \
  'https://api.retab.com/v1/documents/edit' \
  -H "Api-Key: $RETAB_API_KEY" \
  -H 'Content-Type: application/json' \
  -d '{
  "pdf_base64": "JVBERi0xLjQKJcOkw7zDtsO...",
  "filling_instructions": "Name: John Doe, Date of Birth: 1990-01-15, Address: 123 Main Street",
  "model": "gemini-2.5-pro",
  "annotation_level": "line"
}'
```

</RequestExample>

<ResponseExample>

```json 200
{
  "form_schema": {
    "form_fields": [
      {
        "bbox": {
          "left": 0.15,
          "top": 0.20,
          "width": 0.35,
          "height": 0.03,
          "page": 1
        },
        "description": "Full Name - text input field for applicant's legal name",
        "type": "text",
        "value": null
      },
      {
        "bbox": {
          "left": 0.15,
          "top": 0.28,
          "width": 0.20,
          "height": 0.03,
          "page": 1
        },
        "description": "Date of Birth - date field in MM/DD/YYYY format",
        "type": "text",
        "value": null
      },
      {
        "bbox": {
          "left": 0.55,
          "top": 0.45,
          "width": 0.02,
          "height": 0.02,
          "page": 1
        },
        "description": "Agreement checkbox - confirms acceptance of terms",
        "type": "checkbox",
        "value": null
      }
    ]
  },
  "filled_form_schema": {
    "form_schema": [
      {
        "bbox": {
          "left": 0.15,
          "top": 0.20,
          "width": 0.35,
          "height": 0.03,
          "page": 1
        },
        "description": "Full Name - text input field for applicant's legal name",
        "type": "text",
        "value": "John Doe"
      },
      {
        "bbox": {
          "left": 0.15,
          "top": 0.28,
          "width": 0.20,
          "height": 0.03,
          "page": 1
        },
        "description": "Date of Birth - date field in MM/DD/YYYY format",
        "type": "text",
        "value": "01/15/1990"
      },
      {
        "bbox": {
          "left": 0.55,
          "top": 0.45,
          "width": 0.02,
          "height": 0.02,
          "page": 1
        },
        "description": "Agreement checkbox - confirms acceptance of terms",
        "type": "checkbox",
        "value": "unchecked"
      }
    ]
  },
  "ocr_result": {
    "elements": [
      {
        "text": "Application Form",
        "bbox": {
          "left": 0.35,
          "top": 0.05,
          "width": 0.30,
          "height": 0.04,
          "page": 1
        },
        "element_type": "line"
      }
    ],
    "formatted_text": "--- Page 1 ---\n[1, 0.350, 0.050, 0.300, 0.040] \"Application Form\"",
    "annotated_pdf_base64": "JVBERi0xLjQK..."
  },
  "ocr_annotated_pdf_base64": "JVBERi0xLjQK...",
  "form_fields_pdf_base64": "JVBERi0xLjQK...",
  "filled_pdf_base64": "JVBERi0xLjQK..."
}
```

</ResponseExample>
