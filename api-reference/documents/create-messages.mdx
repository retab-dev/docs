---
title: 'Create OpenAI Messages'
openapi: 'POST /v1/documents/create_messages'
---

<RequestExample>




```python python
from retab import Retab

reclient = Retab()
response = reclient.documents.create_messages(
    document = "Invoice.pdf",
    modality="text"
)
```

```javascript javascript
import { Retab } from '@retab/node';
import { config } from 'dotenv';

config();

const client = new Retab();

const result = await client.documents.createMessages({
    document: "Invoice.pdf",
    modality: "text",
});
```


```bash curl
curl -X 'POST' \
  'https://api.retab.com/v1/documents/create_messages' \
  -H "API-Key: $RETAB_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
  "document": {
    "filename": "Invoice.pdf",
    "url": "data:application/pdf;base64,JVBERi0xLjQKJfbk/N8KMS..."
  },
  "modality": "text"
}'
```

</RequestExample>


<ResponseExample>

```json 200
{
  "id": "doc_dTjnQl0d-_aTim9hFbHkO",
  "object": "document_message",
  "messages": [
    {
      "role": "user",
      "content": [
        {
            "text": "<Unstructured Text Content>\n    \u00a0\nINV-2024-001 \u00b7 $XX.XX USD due [DATE]\nPage 1 of 1\nInvoice\nInvoice number INV-2024-001\nDate of issue\n[DATE]\nDate due\n[DATE]\n[VENDOR COMPANY]\n[VENDOR ADDRESS LINE 1]\n[VENDOR ADDRESS LINE 2]\n[VENDOR CITY], [VENDOR STATE] [VENDOR ZIP]\n[VENDOR COUNTRY]\n[VENDOR EMAIL]\n[VENDOR TAX ID]\nBill to\n[CUSTOMER COMPANY]\n[CUSTOMER ADDRESS LINE 1]\n[CUSTOMER ADDRESS LINE 2]\n[CUSTOMER CITY], [CUSTOMER STATE] [CUSTOMER ZIP]\n[CUSTOMER COUNTRY]\n[CUSTOMER EMAIL]\nShip to\n[RECIPIENT NAME]\n[SHIPPING ADDRESS LINE 1]\n[SHIPPING ADDRESS LINE 2]\n[SHIPPING CITY], [SHIPPING STATE] [SHIPPING ZIP]\n[SHIPPING COUNTRY]\n$XX.XX USD due [DATE]\nPay online\nDescription\nQty\nUnit price\nAmount\n[SERVICE DESCRIPTION]\n[SERVICE PERIOD]\n1\n$XX.XX\n$XX.XX\nSubtotal\n$XX.XX\nTotal\n$XX.XX\nAmount due\n$XX.XX\u00a0USD\n\u00a0\n\n    </Unstructured Text Content>\n    \n    <Structured Text Content from LLM>\n    # Invoice\n\nInvoice number INV-2024-001\nDate of issue [DATE]\nDate due [DATE]\n\n[VENDOR COMPANY]\n[VENDOR ADDRESS LINE 1]\n[VENDOR ADDRESS LINE 2]\n[VENDOR CITY], [VENDOR STATE] [VENDOR ZIP]\n[VENDOR COUNTRY]\n[VENDOR EMAIL]\n[VENDOR TAX ID]\n\nBill to\n[CUSTOMER COMPANY]\n[CUSTOMER ADDRESS LINE 1]\n[CUSTOMER ADDRESS LINE 2]\n[CUSTOMER CITY], [CUSTOMER STATE] [CUSTOMER ZIP]\n[CUSTOMER COUNTRY]\n[CUSTOMER EMAIL]\n\nShip to\n[RECIPIENT NAME]\n[SHIPPING ADDRESS LINE 1]\n[SHIPPING ADDRESS LINE 2]\n[SHIPPING CITY], [SHIPPING STATE] [SHIPPING ZIP]\n[SHIPPING COUNTRY]\n\n$XX.XX USD due [DATE]\n\nPay online\n\n~~~yaml\ntable:\n  caption: \"\"\n  dimensions:\n    rows: 1\n    columns: 4\n  header:\n    - [Description, Qty, Unit price, Amount]\n  body:\n    - [[SERVICE DESCRIPTION], 1, $XX.XX, $XX.XX]\n~~~\n\n[SERVICE PERIOD]\n\n~~~yaml\ntable:\n  caption: \"\"\n  dimensions:\n    rows: 3\n    columns: 2\n  body:\n    - [Subtotal, $XX.XX]\n    - [Total, $XX.XX]\n    - [Amount due, $XX.XX USD]\n~~~\n\nINV-2024-001 - $XX.XX USD due [DATE]\n\nPage 1 of 1\n    </Structured Text Content from LLM>\n    ",
            "type": "text"
        }
      ]
    }
  ],
  "created": 1748268213,
  "modality": "text",
  "token_count": {
    "total_tokens": 615,
    "developer_tokens": 0,
    "user_tokens": 615
  }
}
```



</ResponseExample>

